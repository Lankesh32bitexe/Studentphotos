<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GIET Photo Portal</title>
  <style>
    :root{
      --bg-image: url('https://images.unsplash.com/photo-1517694712202-14dd9538aa97?q=80&w=2400&auto=format&fit=crop'); /* Replace with your image later */
      --glass: rgba(255,255,255,.08);
      --glass-strong: rgba(255,255,255,.18);
      --border: rgba(255,255,255,.35);
      --text: #f7f7fb;
      --subtle: #dbe0ff;
      --accent: #a2b5ff;
      --shadow: 0 20px 50px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background: radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,.08), transparent 60%),
                  radial-gradient(1000px 800px at 90% 20%, rgba(156, 163, 255,.15), transparent 55%),
                  #0b0d16;
      position:relative;
      overflow:hidden;
    }
    body::before{
      content:""; position:fixed; inset:0; z-index:-2;
      background-image: var(--bg-image);
      background-size:cover; background-position:center; filter:contrast(1.05) saturate(1.05) brightness(.8);
      transform:scale(1.02);
    }
    body::after{
      content:""; position:fixed; inset:-5%; z-index:-1; pointer-events:none;
      background: radial-gradient(60% 50% at 50% 45%, transparent 0%, transparent 55%, rgba(0,0,0,.45) 100%);
    }

    /* ---------- Layout ---------- */
    .wrap{min-height:100%; display:grid; place-items:center; padding:32px}
    .stack{display:flex; flex-direction:column; gap:22px; align-items:center; text-align:center}

    /* ---------- Heading ---------- */
    h1{
      margin:0; font-weight:800; letter-spacing:.3px; line-height:1.1;
      font-size: clamp(28px, 4vw, 44px);
      text-shadow: 0 2px 8px rgba(0,0,0,.35);
    }
    .sub{opacity:.9; font-weight:700; letter-spacing:.2px}

    /* ---------- Glass Card (metallic) ---------- */
    .card{
      position:relative;
      margin: 0 auto; /* Center align horizontally */
      width:min(560px, 92vw);
      padding:28px 26px 30px;
      border-radius:24px;
      background: linear-gradient(180deg, var(--glass-strong), var(--glass));
      backdrop-filter: blur(16px) saturate(120%);
      -webkit-backdrop-filter: blur(16px) saturate(120%);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.22);
      overflow:hidden;
    }
    .card::before{
      content:""; position:absolute; inset:-1px; border-radius:inherit; pointer-events:none;
      background: linear-gradient(135deg, rgba(255,255,255,.35) 0%, rgba(255,255,255,0) 35%, rgba(255,255,255,.25) 70%, rgba(255,255,255,0) 100%);
      mix-blend-mode: screen; opacity:.45; filter: blur(10px);
      animation: sweep 5s linear infinite;
    }
    @keyframes sweep{0%{transform:translateX(-40%) translateY(-20%) rotate(0deg)}100%{transform:translateX(40%) translateY(20%) rotate(0deg)}}

    .card::after{
      content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
      background:
        linear-gradient(0deg, rgba(255,255,255,.25), rgba(255,255,255,0)) top/100% 2px no-repeat,
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(0,0,0,.18)) bottom/100% 8px no-repeat;
    }

    /* ---------- Form ---------- */
    form{display:flex; flex-direction:column; gap:16px; align-items:center}
    label{font-weight:800; font-size:clamp(16px, 2.6vw, 22px)}
    .row{display:flex; gap:12px; width:100%; justify-content:center}

    input[type="text"]{
      flex:1; min-width:220px; max-width:340px;
      padding:14px 16px; border-radius:14px; outline:none;
      border:1px solid rgba(255,255,255,.35);
      background: linear-gradient(180deg, rgba(255,255,255,.22), rgba(255,255,255,.12));
      color:var(--text); font-weight:700; font-size:16px; letter-spacing:.5px;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      box-shadow: inset 0 2px 6px rgba(0,0,0,.25);
    }
    input::placeholder{color:#e9ecffcc; font-weight:600}

    button{
      padding:14px 22px; border-radius:14px; border:0; cursor:pointer;
      font-weight:900; letter-spacing:.6px; font-size:16px; text-transform:uppercase;
      color:#0b0d16;
      background: linear-gradient(135deg, #ffffff, #bfc8ff 45%, #e9ecff);
      box-shadow: 0 10px 25px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.65);
      transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
    }
    button:hover{transform: translateY(-1px); filter:brightness(1.05)}
    button:active{transform: translateY(1px); box-shadow: 0 6px 16px rgba(0,0,0,.5), inset 0 1px 0 rgba(255,255,255,.65)}

    .hint{font-size:12px; opacity:.8}

    @media (max-width:420px){
      .card{padding:24px}
    }
  </style>
</head>
<body>
  <div class="stack">
    <h1>Welcome to <strong>GIET Photo Portal</strong></h1>

    <div class="card">
      <form id="lookupForm">
        <label for="roll">Enter Roll No</label>
        <input id="roll" type="text" placeholder="e.g., 00ABC000" required />
        <button type="submit">GET</button>
      </form>

      <div id="photo-container">
        <img id="student-photo" src="" alt="Photo Not Found, Check Roll.No" />
        <a id="download-link" class="download-btn" download="student_photo.jpg">Download</a>
      </div>
    </div>
  </div>


  <script>
    async function loadData() {
      const res = await fetch("data.json", { cache: "no-store" });
      return res.json();
    }

    document.getElementById("lookupForm").addEventListener("submit", async (e) => {
      e.preventDefault();

      // normalize: remove spaces + make lowercase (so 25 CSE 167 / 25cSe167 all work)
      const roll = document.getElementById("roll").value.replace(/\s+/g, "").toLowerCase();

      const data = await loadData();

      // build a lowercase-key map from data.json (without changing your JSON file)
      const lcMap = Object.fromEntries(
        Object.entries(data).map(([k, v]) => [String(k).replace(/\s+/g, "").toLowerCase(), v])
      );

      const photoUrl = lcMap[roll];

      const photo = document.getElementById("student-photo");
      const container = document.getElementById("photo-container");
      const link = document.getElementById("download-link");

      if (photoUrl) {
        photo.src = photoUrl;
        link.href = photoUrl;
        container.style.display = "flex";
      } else {
        container.style.display = "none";
        alert("Photo Not Found, Check Roll.No");
      }
    });
  </script>
</body>
</html>
